function WbDispatcher(){var t={};function e(e){return t[e]||(t[e]=new Flux.Dispatcher),t[e]}this.on=function(t,r){return e(t).register(r)},this.off=function(t,r){return e(t).unregister(r)},this.waitFor=function(t,r){return e(t).waitFor(r)},this.dispatch=function(t,r){return e(t).dispatch(r)},this.isDispatching=function(t){return e(t).isDispatching()}}!function(t,e){"use strict";"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():t.ResizeObserver=e()}(this,function(){"use strict";var t=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var r=-1;return t.some(function(t,n){return t[0]===e&&(r=n,!0)}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var r=t(this.__entries__,e),n=this.__entries__[r];return n&&n[1]},e.prototype.set=function(e,r){var n=t(this.__entries__,e);~n?this.__entries__[n][1]=r:this.__entries__.push([e,r])},e.prototype.delete=function(e){var r=this.__entries__,n=t(r,e);~n&&r.splice(n,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var r=0,n=this.__entries__;r<n.length;r++){var i=n[r];t.call(e,i[1],i[0])}},e}()}(),e="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),n="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},i=2;var o=20,a=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,l=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var r=!1,o=!1,a=0;function s(){r&&(r=!1,t()),o&&c()}function l(){n(s)}function c(){var t=Date.now();if(r){if(t-a<i)return;o=!0}else r=!0,o=!1,setTimeout(l,e);a=t}return c}(this.refresh.bind(this),o)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,r=e.indexOf(t);~r&&e.splice(r,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){e&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){e&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,r=void 0===e?"":e;a.some(function(t){return!!~r.indexOf(t)})&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),c=function(t,e){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},u=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||r},d=b(0,0,0,0);function p(t){return parseFloat(t)||0}function h(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(e,r){return e+p(t["border-"+r+"-width"])},0)}function f(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return d;var n=u(t).getComputedStyle(t),i=function(t){for(var e={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var i=n[r],o=t["padding-"+i];e[i]=p(o)}return e}(n),o=i.left+i.right,a=i.top+i.bottom,s=p(n.width),l=p(n.height);if("border-box"===n.boxSizing&&(Math.round(s+o)!==e&&(s-=h(n,"left","right")+o),Math.round(l+a)!==r&&(l-=h(n,"top","bottom")+a)),!function(t){return t===u(t).document.documentElement}(t)){var c=Math.round(s+o)-e,f=Math.round(l+a)-r;1!==Math.abs(c)&&(s-=c),1!==Math.abs(f)&&(l-=f)}return b(i.left,i.top,s,l)}var g="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof u(t).SVGGraphicsElement}:function(t){return t instanceof u(t).SVGElement&&"function"==typeof t.getBBox};function y(t){return e?g(t)?function(t){var e=t.getBBox();return b(0,0,e.width,e.height)}(t):f(t):d}function b(t,e,r,n){return{x:t,y:e,width:r,height:n}}var m=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=b(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=y(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),W=function(){return function(t,e){var r,n,i,o,a,s,l,u=(n=(r=e).x,i=r.y,o=r.width,a=r.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),c(l,{x:n,y:i,width:o,height:a,top:i,right:n+o,bottom:a+i,left:n}),l);c(this,{target:t,contentRect:u})}}(),v=function(){function e(e,r,n){if(this.activeObservations_=[],this.observations_=new t,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof u(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new m(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof u(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new W(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),w="undefined"!=typeof WeakMap?new WeakMap:new t,_=function(){return function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=l.getInstance(),n=new v(e,r,this);w.set(this,n)}}();return["observe","unobserve","disconnect"].forEach(function(t){_.prototype[t]=function(){var e;return(e=w.get(this))[t].apply(e,arguments)}}),void 0!==r.ResizeObserver?r.ResizeObserver:_}),angular.module("am-wb-core",[]),angular.module("am-wb-core").factory("WidgetEditor",function(){function t(t,e){this.callbacks=[],this.widget=t,this.options=e}return t.prototype.destroy=function(){this.callbacks=[],delete this.widget,delete this.options},t.prototype.getWidget=function(){return this.widget},t.prototype.setDirty=function(t){this.dirty=void 0===t||t},t.prototype.isDirty=function(){return this.dirty},t.prototype.off=function(t,e){if(angular.isArray(this.callbacks[t])){var r=this.callbacks[t],n=r.indexOf(e);n>-1&&r.splice(n,1)}},t.prototype.on=function(t,e){angular.isArray(this.callbacks[t])||(this.callbacks[t]=[]),_.includes(this.callbacks[t],e)||this.callbacks[t].push(e)},t.prototype.fire=function(t,e){for(var r=_.merge({source:this,type:t},e||{}),n=this.callbacks[t]||[],i=0;i<n.length;i++)try{n[i](r)}catch(t){}},t.prototype.setActive=function(){},t.prototype.isActive=function(){},t.prototype.save=function(){},t.prototype.hide=function(){},t.prototype.show=function(){},t.prototype.isHidden=function(){},t}),angular.module("am-wb-core").factory("WbObservableObject",function(){function t(){this.silent=!1,this.callbacks={}}return t.prototype.setSilent=function(t){this.silent=t},t.prototype.isSilent=function(){return this.silent},t.prototype.on=function(t,e){if(!angular.isFunction(e))throw{message:"Callback must be a function"};var r=this.callbacks;angular.isArray(r[t])||(r[t]=[]),r[t].includes(e)||r[t].push(e)},t.prototype.off=function(t,e){var r=this.callbacks;if(angular.isArray(r[t])){var n=r[t].indexOf(e);n>-1&&r[t].splice(n,1)}},t.prototype.fire=function(t,e){var r=_.merge({source:this,type:t},e||{}),n=this.callbacks;if(!this.isSilent()&&angular.isDefined(n[t]))for(var i=n[t],o=0;o<i.length;o++)try{i[o].apply(i[o],[r])}catch(t){log.error({source:"ObservableObject",message:"The listener throw an unexpected exception.",exception:t})}},t}),angular.module("am-wb-core").factory("$wbMedia",["$rootScope","$window",function(t,e){var r={xs:"(max-width: 599px)","gt-xs":"(min-width: 600px)",sm:"(min-width: 600px) and (max-width: 959px)","gt-sm":"(min-width: 960px)",md:"(min-width: 960px) and (max-width: 1279px)","gt-md":"(min-width: 1280px)",lg:"(min-width: 1280px) and (max-width: 1919px)","gt-lg":"(min-width: 1920px)",xl:"(min-width: 1920px)",landscape:"(orientation: landscape)",portrait:"(orientation: portrait)",print:"print"},n=["xl","gt-lg","lg","gt-md","md","gt-sm","sm","gt-xs","xs","landscape","portrait","print"],i={},o={},a={},s={};return l.getResponsiveAttribute=function(t,e){for(var r=0;r<n.length;r++){var a=n[r];if(o[i[a]].matches){var s=u(t,e+"-"+a);if(t[s])return t[s]}}return t[u(t,e)]},l.getQuery=function(t){return o[t]},l.watchResponsiveAttributes=function(t,e,n){var i=[];return t.forEach(function(t){var o=u(e,t);for(var a in angular.isDefined(e[o])&&i.push(e.$observe(o,angular.bind(void 0,n,null))),r)o=u(e,t+"-"+a),angular.isDefined(e[o])&&i.push(e.$observe(o,angular.bind(void 0,n,a)))}),function(){i.forEach(function(t){t()})}},l;function l(t){var n=i[t];angular.isUndefined(n)&&(n=i[t]=function(t){return r[t]||("("!==t.charAt(0)?"("+t+")":t)}(t));var s=a[n];return angular.isUndefined(s)&&(s=function(t){var r=o[t];r||(r=o[t]=e.matchMedia(t));return r.addListener(c),a[r.media]=!!r.matches}(n)),s}function c(e){t.$evalAsync(function(){a[e.media]=!!e.matches})}function u(t,e){return s[e]||(s[e]=t.$normalize(e))}}]),angular.module("am-wb-core").factory("WbProcessorAbstract",["WbObservableObject",function(t){function e(){t.apply(this,arguments)}return e.prototype=new t,e}]),angular.module("am-wb-core").factory("WbProcessorAttribute",["WbProcessorAbstract",function(t){function e(t,e){var r=t.getElement(),n={},i=t.getModelProperty("style")||{},o=t.getRuntimeModel()||{};e?_.forEach(e,function(t){n[t]=o.style[t]||i[t]||""}):(r.attr("style",""),n=angular.merge({},i,o.style)),r.css(n)}function r(t,e,r){if((!t.isEditable()||"draggable"!==e&&"dropzone"!==e)&&"style"!==e){var n=t.getElement();r?n.attr(e,r):n.removeAttr(e),"html"===e&&n.html(r),"text"===e&&n.text(r),"inputType"===e&&t.setElementAttribute("type",r),"value"===e&&n.val(r)}}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];r(t,i,t.getProperty(i)||t.getModelProperty(i))}}function i(){t.apply(this)}return i.prototype=new t,i.prototype.process=function(t,r){if("modelChanged"===r.type)n(t,t.getElementAttributes()),e(t);else if("modelUpdated"===r.type){for(var i=r.keys||[r.key],o=[],a=[],s=0;s<i.length;s++)i[s].startsWith("style.")?o.push(i[s].substring(6)):a.push(i[s]);n(t,_.intersection(a,t.getElementAttributes())),e(t,o)}},i}]),angular.module("am-wb-core").factory("WbProcessorEvent",["WbProcessorAbstract","$widget","$injector",function(t,e,r){function n(t,n,i){var o;if(!t.eventFunctions.hasOwnProperty(n))try{var a=t.getEvent()[n];if(!a)return;a+="\n//@ sourceURL=wb-"+t.getId()+"-"+n+".js";var s=_.join(_.concat(["$widget","$event"],e.getProvidersKey()));t.eventFunctions[n]=new Function(s,a)}catch(t){}if(o=t.eventFunctions[n])try{var l=_.merge({$event:i,$widget:t},e.getProviders());return r.invoke(o,t,l)}catch(t){}}function i(){t.apply(this)}return i.prototype=new t,i.prototype.process=function(t,r){if("stateChanged"===r.type)if("ready"===t.state){!function(t){t.__eventListeners={click:function(e){return n(t,"click",e)},dblclick:function(e){return n(t,"dblclick",e)},mouseout:function(e){return n(t,"mouseout",e)},mouseover:function(e){return n(t,"mouseover",e)},mousedown:function(e){return n(t,"mousedown",e)},mouseup:function(e){return n(t,"mouseup",e)},mouseenter:function(e){return n(t,"mouseenter",e)},mouseleave:function(e){return n(t,"mouseleave",e)},resize:function(e){return n(t,"resize",e)},intersection:function(e){return n(t,"intersection",e)},success:function(e){return n(t,"success",e)},error:function(e){return n(t,"error",e)},abort:function(e){return n(t,"abort",e)},load:function(e){return n(t,"load",e)},beforeunload:function(e){return n(t,"beforeunload",e)},unload:function(e){return n(t,"unload",e)},change:function(e){return n(t,"change",e)},input:function(e){return n(t,"input",e)},keyup:function(e){return n(t,"keyup",e)},keydown:function(e){return n(t,"keydown",e)},keypress:function(e){return n(t,"keypress",e)}},angular.forEach(t.__eventListeners,function(e,r){t.on(r,e)})}(t),n(t,"stateChanged",r);var i=_.clone(r);i.type="init",n(t,i.type,i)}else!function(t){angular.isDefined(t.__eventListeners)&&(angular.forEach(t.__eventListeners,function(e,r){t.off(r,e)}),delete t.__eventListeners),_.forEach(e.getProviders(),function(t){_.isFunction(t.clean)&&t.clean()})}(t)},i}]),angular.module("am-wb-core").factory("WbProcessorMicrodata",["WbProcessorAbstract",function(t){var e=["itemscope","itemtype","itemprop","itemref","itemid","content","value"];function r(t,e){var r=t.getElement();angular.forEach(e,function(e){var n=t.getProperty(e)||t.getModelProperty(e);n?r.attr(e,n):r.removeAttr(e)})}function n(){t.apply(this)}return n.prototype=new t,n.prototype.process=function(t,n){"modelChanged"!==n.type&&"stateChanged"!==n.type?"modelUpdated"!==n.type||r(t,_.intersection(e,n.keys||[n.key])):r(t,e)},n}]),angular.module("am-wb-core").run(["$window","$q","$rootScope",function(t,e,r){var n={},i={};t.loadLibrary=function(t){if(n[t])return e.resolve({message:"isload"});var i=e.defer(),o=document.createElement("script");return o.src=t,o.async=1,o.onload=function(){n[t]=!0,i.resolve({path:t,message:"loaded"}),r.$$phase||r.$digest()},o.onerror=function(){n[t]=!1,i.reject({path:t,message:"fail"}),r.$$phase||r.$digest()},document.getElementsByTagName("head")[0].appendChild(o),i.promise},t.removeLibrary=function(t){return e.resolve({source:t})},t.isLibraryLoaded=function(t){return!!n[t]},t.loadStyle=function(t){if(i[t])return e.resolve(i[t]);var n=e.defer(),o=document.createElement("link");return o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("href",t),o.onload=function(){i[t]={element:o,path:t},n.resolve(i[t]),r.$$phase||r.$digest()},o.onerror=function(){i[t]=void 0,n.reject({path:t,message:"fail"}),r.$$phase||r.$digest()},document.getElementsByTagName("head")[0].appendChild(o),i[t]=n.promise,i[t]},t.removeStyle=function(t){if(!this.isStyleLoaded(t))return e.resolve({});var r=i[t];r.element.parentNode.removeChild(r.element),i[t]=void 0,e.resolve(r)},t.isStyleLoaded=function(t){return!!i[t]},t.setMeta=function(t,e){var r,n=t.replace(new RegExp(":","g"),"\\:"),i=$("head"),o=i.find('meta[name="'+n+'"]');_.isUndefined(e)?o.length&&o.remove():(0===o.length?(r=angular.element("<meta name='"+t+"' content='' />"),i.append(r)):r=angular.element(o[0]),r.attr("content",e))},t.getMeta=function(t){var e=t.replace(new RegExp(":","g"),"\\:"),r=$("head").find('meta[name="'+e+'"]');if(0!==r.length)return r.attr("content")},t.setLink=function(t,e){var r,n=t.replace(new RegExp(":","g"),"\\:"),i=$("head"),o=i.find("link[key="+n+"]");for(var a in 0===o.length?(r=angular.element("<link key='"+t+"' />"),i.append(r)):r=angular.element(o[0]),e)r.attr(a,e[a])}}]),angular.module("am-wb-core").run(["$widget","WbProcessorMicrodata","WbProcessorEvent","WbProcessorAttribute",function(t,e,r,n){t.setProcessor("microdata",new e),t.setProcessor("event",new r),t.setProcessor("attribut",new n)}]),angular.module("am-wb-core").run(["$anchorScroll","$animate","$cacheFactory","$document","$exceptionHandler","$filter","$http","$httpParamSerializer","$httpParamSerializerJQLike","$interpolate","$interval","$locale","$location","$log","$parse","$q","$rootElement","$sce","$templateCache","$templateRequest","$timeout","$window","$widget","$wbMedia","$wbStorage","$wbDispatcher",function(t,e,r,n,i,o,a,s,l,c,u,d,p,h,f,g,y,b,m,W,v,w,_,A,E,O){_.setProvider("$anchorScroll",t).setProvider("$animate",e).setProvider("$cacheFactory",r).setProvider("$document",n).setProvider("$exceptionHandler",i).setProvider("$filter",o).setProvider("$http",a).setProvider("$httpParamSerializer",s).setProvider("$httpParamSerializerJQLike",l).setProvider("$interpolate",c).setProvider("$interval",u).setProvider("$locale",d).setProvider("$location",p).setProvider("$log",h).setProvider("$parse",f).setProvider("$q",g).setProvider("$rootElement",y).setProvider("$sce",b).setProvider("$templateCache",m).setProvider("$templateRequest",W).setProvider("$timeout",v).setProvider("$window",w).setProvider("$dispatcher",O).setProvider("$storage",E).setProvider("$media",A)}]),angular.module("am-wb-core").run(["$widget",function(t){t.newWidget({type:"a",controller:"WbWidgetA"}),t.newWidget({type:"address",controller:"WbWidgetAddress"}),t.newWidget({type:"applet",controller:"WbWidgetApplet"}),t.newWidget({type:"area",controller:"WbWidgetArea"}),t.newWidget({type:"article",controller:"WbWidgetArticle"}),t.newWidget({type:"aside",controller:"WbWidgetAside"}),t.newWidget({type:"audio",controller:"WbWidgetAudio"}),t.newWidget({type:"blockquote",controller:"WbWidgetBlockquote"}),t.newWidget({type:"button",controller:"WbWidgetButton"}),t.newWidget({type:"canvas",controller:"WbWidgetCanvas"}),t.newWidget({type:"datalist",controller:"WbWidgetDatalist"}),t.newWidget({type:"dd",controller:"WbWidgetDd"}),t.newWidget({type:"details",controller:"WbWidgetDetails"}),t.newWidget({type:"dialog",controller:"WbWidgetDialog"}),t.newWidget({type:"div",controller:"WbWidgetDiv"}),t.newWidget({type:"dl",controller:"WbWidgetDl"}),t.newWidget({type:"dt",controller:"WbWidgetDt"}),t.newWidget({type:"embed",controller:"WbWidgetEmbed"}),t.newWidget({type:"fieldset",controller:"WbWidgetFieldset"}),t.newWidget({type:"figcaption",controller:"WbWidgetFigcaption"}),t.newWidget({type:"figure",controller:"WbWidgetFigure"}),t.newWidget({type:"footer",controller:"WbWidgetFooter"}),t.newWidget({type:"form",controller:"WbWidgetForm"}),t.newWidget({type:"frame",controller:"WbWidgetFrame"}),t.newWidget({type:"frameset",controller:"WbWidgetFrameset"});for(var e=1;e<7;e++)t.newWidget({type:"h"+e,controller:"WbWidgetH"});t.newWidget({type:"header",controller:"WbWidgetHeader"}),t.newWidget({type:"hr",controller:"WbWidgetHr"}),t.newWidget({type:"i",controller:"WbWidgetI"}),t.newWidget({type:"iframe",controller:"WbWidgetIframe"}),t.newWidget({type:"img",controller:"WbWidgetImg"}),t.newWidget({type:"input",controller:"WbWidgetInput"}),t.newWidget({type:"kbd",controller:"WbWidgetKbd"}),t.newWidget({type:"label",controller:"WbWidgetLabel"}),t.newWidget({type:"legend",controller:"WbWidgetLegend"}),t.newWidget({type:"li",controller:"WbWidgetLi"}),t.newWidget({type:"link",controller:"WbWidgetLink"}),t.newWidget({type:"main",controller:"WbWidgetMain"}),t.newWidget({type:"map",controller:"WbWidgetMap"}),t.newWidget({type:"meta",controller:"WbWidgetMeta"}),t.newWidget({type:"meter",controller:"WbWidgetMeter"}),t.newWidget({type:"nav",controller:"WbWidgetNav"}),t.newWidget({type:"noscript",controller:"WbWidgetNoscript"}),t.newWidget({type:"object",controller:"WbWidgetObject"}),t.newWidget({type:"ol",controller:"WbWidgetOl"}),t.newWidget({type:"optgroup",controller:"WbWidgetOptgroup"}),t.newWidget({type:"option",controller:"WbWidgetOption"}),t.newWidget({type:"output",controller:"WbWidgetOutput"}),t.newWidget({type:"p",controller:"WbWidgetP"}),t.newWidget({type:"param",controller:"WbWidgetParam"}),t.newWidget({type:"picture",controller:"WbWidgetPicture"}),t.newWidget({type:"pre",controller:"WbWidgetPre"}),t.newWidget({type:"progress",controller:"WbWidgetProgress"}),t.newWidget({type:"q",controller:"WbWidgetQ"}),t.newWidget({type:"s",controller:"WbWidgetS"}),t.newWidget({type:"samp",controller:"WbWidgetSamp"}),t.newWidget({type:"script",controller:"WbWidgetScript"}),t.newWidget({type:"section",controller:"WbWidgetSection"}),t.newWidget({type:"select",controller:"WbWidgetSelect"}),t.newWidget({type:"small",controller:"WbWidgetSmall"}),t.newWidget({type:"source",controller:"WbWidgetSource"}),t.newWidget({type:"span",controller:"WbWidgetSpan"}),t.newWidget({type:"strong",controller:"WbWidgetStrong"}),t.newWidget({type:"style",controller:"WbWidgetStyle"}),t.newWidget({type:"summary",controller:"WbWidgetSummary"}),t.newWidget({type:"svg",controller:"WbWidgetSvg"}),t.newWidget({type:"template",controller:"WbWidgetTemplate"}),t.newWidget({type:"textarea",controller:"WbWidgetTextarea"}),t.newWidget({type:"track",controller:"WbWidgetTrack"}),t.newWidget({type:"ul",controller:"WbWidgetUl"}),t.newWidget({type:"video",controller:"WbWidgetVideo"}),t.newWidget({type:"ObjectCollection",template:"<div></div>",controller:"AmWbSeenCollectionWidget"}),t.newWidget({type:"import",template:"<div></div>",controller:"WbWidgetSeenImport"}),t.newWidget({type:"table",controller:"WbWidgetGroup"}),t.newWidget({type:"thead",controller:"WbWidgetGroup"}),t.newWidget({type:"tbody",controller:"WbWidgetGroup"}),t.newWidget({type:"tr",controller:"WbWidgetGroup"}),t.newWidget({type:"th",controller:"WbWidgetGroup"}),t.newWidget({type:"td",controller:"WbWidgetGroup"})}]),angular.module("am-wb-core").service("$dispatcher",WbDispatcher).service("$wbDispatcher",WbDispatcher),angular.module("am-wb-core").service("$objectPath",function(){var t=Object.prototype.hasOwnProperty,e={};function r(t){var e=parseInt(t);return e.toString()===t?e:t}function n(t,r){if(e.includeInheritedProps||"number"==typeof r&&_.isArray(t)||t.hasOwnProperty(r))return t[r]}function i(t,e,o,a){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if("string"==typeof e)return i(t,e.split(".").map(r),o,a);var s=e[0],l=n(t,s);return 1===e.length?(void 0!==l&&a||(t[s]=o),l):(void 0===l&&("number"==typeof e[1]?t[s]=[]:t[s]={}),i(t[s],e.slice(1),o,a))}this.has=function(n,i){if(null==n)return!1;if("number"==typeof i?i=[i]:"string"==typeof i&&(i=i.split(".")),!i||0===i.length)return!1;for(var o=0;o<i.length;o++){var a=r(i[o]);if(!("number"==typeof a&&_.isArray(n)&&a<n.length||(e.includeInheritedProps?a in Object(n):t.call(n,a))))return!1;n=n[a]}return!0},this.ensureExists=function(t,e,r){return i(t,e,r,!0)},this.set=function(t,e,r,n){return i(t,e,r,n)},this.insert=function(t,e,r,n){var i=this.get(t,e);n=~~n,_.isArray(i)||(i=[],this.set(t,e,i)),i.splice(n,0,r)},this.empty=function(e,r){var n,i;if(!_.isEmpty(r)&&(null!=e&&(n=this.get(e,r)))){if("string"==typeof n)return this.set(e,r,"");if(_.isBoolean(n))return this.set(e,r,!1);if("number"==typeof n)return this.set(e,r,0);if(_.isArray(n))n.length=0;else{if(!_.isObject(n))return this.set(e,r,null);for(i in n)t.call(n,i)&&delete n[i]}}},this.push=function(t,e){var r=this.get(t,e);_.isArray(r)||(r=[],this.set(t,e,r)),r.push.apply(r,Array.prototype.slice.call(arguments,2))},this.coalesce=function(t,e,r){for(var n,i=0,o=e.length;i<o;i++)if(void 0!==(n=this.get(t,e[i])))return n;return r},this.get=function(t,e,i){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if(null==t)return i;if("string"==typeof e)return this.get(t,e.split("."),i);var o=r(e[0]),a=n(t,o);return void 0===a?i:1===e.length?a:this.get(t[o],e.slice(1),i)},this.del=function(t,e){if("number"==typeof e&&(e=[e]),null==t)return t;if(_.isEmpty(e))return t;if("string"==typeof e)return this.del(t,e.split("."));var i=r(e[0]),o=n(t,i);if(null==o)return o;if(1===e.length)_.isArray(t)?t.splice(i,1):delete t[i];else if(void 0!==t[i])return this.del(t[i],e.slice(1));return t}}),angular.module("am-wb-core").service("$wbStorage",function(){}),angular.module("am-wb-core").service("$wbUtil",["$q","$templateRequest","$sce",function(t,e,r){function n(t){var n=t.template,i=t.templateUrl;return angular.isDefined(n)?angular.isFunction(n)&&(n=n(t.params||t)):angular.isDefined(i)&&(angular.isFunction(i)&&(i=i(t.params)),angular.isDefined(i)&&(t.loadedTemplateUrl=r.valueOf(i),n=e(i))),n}function i(t){angular.isObject(t.style)||(t.style={}),function(t){if(t.style.layout)t.style.layout.align_self&&(t.style.alignSelf=t.style.layout.align_self),t.style.layout.direction&&(t.style.display="flex",t.style.flexGrow=t.style.layout.grow,t.style.flexShrink=t.style.layout.shrink,t.style.flexBasis=t.style.layout.basis,t.style.flexDirection=t.style.layout.direction,t.style.flexWrap=t.style.layout.wrap?"wrap":"no-wrap",t.style.justifyContent=t.style.layout.justify,"end"!==t.style.justifyContent&&"end"!==t.style.justifyContent||(t.style.justifyContent="flex-"+t.style.justifyContent),t.style.alignItems=t.style.layout.align,t.style.order=t.style.layout.order),delete t.style.layout}(t),function(t){t.style.size&&(t.style.width=t.style.size.width,t.style.minWidth=t.style.size.minWidth,t.style.maxWidth=t.style.size.maxWidth,t.style.height=t.style.size.height,t.style.minHeight=t.style.size.minHeight,t.style.maxHeight=t.style.size.maxHeight,delete t.style.size)}(t),function(t){if(t.style.background)t.style.background.image&&(t.style.backgroundImage='url("'+t.style.background.image+'")'),t.style.backgroundColor=t.style.background.color,t.style.backgroundSize=t.style.background.size,t.style.backgroundRepeat=t.style.background.repeat,t.style.backgroundOrigin=t.style.background.origin,t.style.backgroundPosition=t.style.background.position,delete t.style.background}(t),function(t){if(t.style.border)t.style.borderStyle=t.style.border.style,t.style.borderColor=t.style.border.color,t.style.borderWidth=t.style.border.width,t.style.borderRadius=t.style.border.radius,delete t.style.border}(t),function(t){if(t.style.padding&&angular.isObject(t.style.padding)){var e="";e=t.style.padding.isUniform?t.style.padding.uniform:t.style.padding.top||"0px "+t.style.padding.right||"0px "+t.style.padding.bottom||"0px "+t.style.padding.left||"0px ",t.style.padding=e}if(t.style.margin&&angular.isObject(t.style.margin)){var r="";r=t.style.margin.isUniform?t.style.margin.uniform:t.style.margin.top||"0px "+t.style.margin.right||"0px "+t.style.margin.bottom||"0px "+t.style.margin.left||"0px ",t.style.margin=r}}(t),function(t){t.style.overflow&&(t.style.overflowX=t.style.overflow.x,t.style.overflowY=t.style.overflow.y)}(t),function(t){if(t.style.shadows){var e=[];_.forEach(t.style.shadows,function(t){var r=t.hShift+" "+t.vShift+" "+t.blur+" "+t.spread+" "+t.color;t.inset&&(r+=" inset"),e.push(r)}),t.style.boxShadow=_.join(e),delete t.style.shadows}}(t)}function o(t){return delete t.version,function(t){t.on?delete t.event:(t.event||(t.event={}),t.event.failure&&(t.event.error=t.event.failure,delete t.event.failure),t.event&&(t.on=t.event,delete t.event),t.on&&_.forOwn(t.on,function(e,r){t.on[r]="/* code style is deprecated. see http://www.viraweb123.ir/amh-blog/content/wb-v4-release */ \n"+e}))}(t),i(t),_.isArray(t.contents)&&(t.children=t.contents,delete t.contents),_.isArray(t.children)&&t.children.length&&_.forEach(t.children,o),function(t){"Group"===t.type&&(t.type="div"),"Import"===t.type&&(t.type="import"),"Link"===t.type&&(t.type="a",t.html=t.title,t.href=t.url,t.style.text={align:"center"},t.style.cursor="pointer",delete t.title,delete t.url),"Image"===t.type&&(t.type="img",t.src=t.url,delete t.url),"HtmlText"===t.type&&(t.html=t.text,delete t.text)}(t),t}this.clean=function(t,e){if(t.type&&"Page"!==t.type&&"Group"!==t.type||(t.type="div"),"wb4"===t.version&&!e)return t;var r=o(t);return r.version="wb4",r},this.getTemplateFor=function(e){return t.when(n(e))},this.getTemplateOf=n,this.findWidgetModelById=function(t,e){if(t.id===e)return t;if(_.isArray(t.children))for(var r=0;r<t.children.length;r++){var n=this.findWidgetModelById(t.children[r],e);if(n)return n}return null},this.replaceWidgetModelById=function(t,e,r){if(!t||t.id==e)return r;if(_.isArray(t.children)){for(var n=0;n<t.children.length;n++)if(t.children[n].id===e)return t.children[n]=r,t;for(n=0;n<t.children.length;n++){if(this.replaceWidgetModelById(t.children[n],e,r))return t}}},this.downloadWidgetModel=function(t,r){var n=this;return e(t).then(function(t){var e=n.clean(angular.fromJson(t));return r?n.findWidgetModelById(e,r):e})}}]),angular.module("am-wb-core").service("$widget",["$q","$injector","$log","WidgetEditor",function(t,e,r,n){var i=[],o=this,a=[],s=[],l={},c={},u=[],d={template:'<div ng-show="wbEditable">Unsuported widget?!</div>',label:"Not found",description:"Element not found"};function p(t){for(var e=0;e<i.length;e++)if(i[e].id===t)return i[e];var r={id:t};return i.push(r),r}function h(t){return l[t.type||t]||d}function f(t){return!_.isUndefined(l[t])}this.hasWidget=f,o.newWidget=function(t){return f(t.type)&&r.warn("Widget is replaced",t),t.model=t.model||{style:{}},t.model.type=t.type,t.model.name=t.model.name||t.title,l[t.type]=t,o},o.widget=function(e){return t.when(h(e))},o.widgets=function(){var e={items:[]};return _.forEach(l,function(t){e.items.push(t)}),t.when(e)},o.widgetData=function(t){return angular.copy(t.model)},o.getWidget=h,o.getWidgets=function(){var t={items:[]};return s.forEach(function(e){t.items.push(a[e])}),t},o.group=p,o.groups=function(){return i},o.newGroup=function(t){var e=p(t.id);angular.extend(e,t)},o.compile=function(r,n,i){var o,a=h(r);o=i||angular.element("<"+r.type+"></"+r.type+">");var s=new(e.get(a.controller||"WbWidgetAbstract"))(o,n);return o[0].$$wbController=s,t.resolve(s.setModel(r))},this.getChildren=function(t){var e=[],r=[];for(_.forEach(t.getChildren(),function(t){r.push(t)});r.length;){t=r.pop(),e.push(t);for(var n=t.getChildren(),i=0;i<n.length;i++){var o=n[i];r.push(o)}}return e};var g={};this.removeProvider=function(t){var e=g[t];return g[t]=void 0,e},this.getProvider=function(t){return g[t]},this.setProvider=function(t,e){return g[t]=e,this},this.getProviders=function(){return g},this.addProvider=function(t,e){return this.setProvider(t,e)},this.getProvidersKey=function(){return _.keys(g)};var y={},b=new n;this.setEditor=function(t,e){y[t]=e},this.getEditor=function(t){if(t.$$wbEditor)return t.$$wbEditor;if(void 0===y[t.getType()])return b;var r=y[t.getType()],n=new(e.get(r.type))(t,r.options||{}),i=this;return t.$$wbEditor=n,n.on("destroy",function(){i.removeEditorFromList(n)}),n},this.setProcessor=function(t,e){c[t]=e},this.removeProcessor=function(t){c[t]=void 0},this.getProcessor=function(t){return c[t]},this.getProcessors=function(){return c},this.applyProcessors=function(t,e){e=e||{},angular.forEach(c,function(r){try{r.process(t,e)}catch(t){log.error({message:"Fail to run the processor",exception:t})}})},this.addConverter=function(t){u.push(t)},this.getConverters=function(){return u},this.getConverter=function(t){for(var e=0;e<u.length;e++)if(u[e].getMimetype()===t)return u[e]},this.widgetFromPoint=function(t,e){return this.widgetFromElement(document.elementFromPoint(t,e))},this.widgetFromElement=function(t){if(t)do{if(t.$$wbController)return t.$$wbController;t=t.parentNode}while(t)}}]),angular.module("am-wb-core").factory("WbWidgetAbstract",["$widget","$window","$objectPath","$log",function(t,e,r,n){function i(t,e){this.elementAttributes=["id","name","title","class","accesskey","contenteditable","hidden","tabindex","dir","lang","translate","spellcheck","draggable","dropzone"],this.$element=t,this.$parent=e,this.state,this.actions=[],this.callbacks=[],this.childWidgets=[],this.eventFunctions={},this.computedStyle={},this.runtimeModel={style:{},on:{}},this.model={};var r,n,i,o=this;this.eventListeners={scroll:function(t){o.fire("scroll",t)},click:function(t){o.fire("click",t)},dblclick:function(t){o.fire("dblclick",t)},mouseout:function(t){o.fire("mouseout",t)},mouseover:function(t){o.fire("mouseover",t)},mousedown:function(t){o.fire("mousedown",t)},mouseup:function(t){o.fire("mouseup",t)},mouseenter:function(t){o.fire("mouseenter",t)},mouseleave:function(t){o.fire("mouseleave",t)},error:function(t){o.fire("error",t)},success:function(t){o.fire("success",t)},load:function(t){o.fire("load",t)},dragstart:function(t){o.fire("dragstart",t)},dragend:function(t){o.fire("dragend",t)},dragenter:function(t){o.fire("dragenter",t)},dragover:function(t){o.fire("dragover",t)},dragleave:function(t){o.fire("dragleave",t)},drop:function(t){o.fire("drop",t)},change:function(t){o.fire("change",t)},input:function(t){o.fire("input",t)},keyup:function(t){o.fire("keyup",t)},keydown:function(t){o.fire("keydown",t)},keypress:function(t){o.fire("keypress",t)}},this.resizeObserver=new ResizeObserver((r=function(t){angular.isArray(t)&&(t=t[0]),o.fire("resize",t)},n=300,function(){var t=this,e=arguments;clearTimeout(i),i=setTimeout(function(){i=null,r.apply(t,e)},n)}));this.intersectionObserver=new IntersectionObserver(function(t){_.isArray(t)&&(t=t[0]),o.setIntersecting(t.isIntersecting,t)},{root:null,rootMargin:"0px",threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),this.connect()}return i.prototype.getModel=function(){return this.model},i.prototype.setModel=function(t){if(t!==this.model)return this.setState("init"),this.model=t,this.runtimeModel={style:{},on:{}},this.fire("modelChanged"),this.setState("ready"),this},i.prototype.hasModelProperty=function(t){return r.has(this.getModel(),t)},i.prototype.getModelProperty=function(t){return r.get(this.getModel(),t)},i.prototype.setModelProperty=function(t,e){var n={source:this,key:t,keys:[t],oldValue:this.getModelProperty(t),value:e};angular.equals(n.oldValue,n.value)||(e?r.set(this.getModel(),t,e):r.del(this.getModel(),t),this.fire("modelUpdated",n))},i.prototype.getRuntimeModel=function(){return this.runtimeModel},i.prototype.hasProperty=function(t){return r.has(this.getRuntimeModel(),t)},i.prototype.getProperty=function(t){return r.get(this.getRuntimeModel(),t)},i.prototype.removeProperty=function(t){var e=this.getRuntimeModel();r.del(e,t)},i.prototype.setProperty=function(t,e){switch(t){case"style.layout.direction":t="style.flexDirection";break;case"style.background.color":t="style.backgroundColor";break;case"style.size.width":t="style.width";break;case"style.size.height":t="style.height"}var n={source:this,key:t,keys:[t],oldValue:this.getProperty(t),value:e};if(!angular.equals(n.oldValue,n.value)){var i=this.getRuntimeModel();angular.isDefined(e)?r.set(i,t,e):r.del(i,t),this.fire("modelUpdated",n)}},i.prototype.style=function(t,e){return angular.isDefined(t)?angular.isString(t)?angular.isDefined(e)?this.setStyle(t,e):this.getStyle(t):void 0:angular.copy(this.getProperty("style"))},i.prototype.setStyle=function(t,e){this.setProperty("style."+t,e)},i.prototype.getStyle=function(t){return this.getProperty("style."+t)},i.prototype.delete=function(){this.fire("delete"),this.getParent().removeChild(this)},i.prototype.destroy=function(t){(this.fire("destroy",t),this.callbacks=[],this.actions=[],this.model=null,angular.forEach(this.childWidgets,function(t){t.destroy()}),this.childWidgets=[],this.isRoot())||this.getElement().remove()},i.prototype.disconnect=function(){var t=this.getElement();t&&(this.resizeObserver.unobserve(t[0]),this.intersectionObserver.unobserve(t[0]),angular.forEach(this.eventListeners,function(e,r){t.off(r,e)}))},i.prototype.connect=function(){var t=this.getElement();t&&(angular.forEach(this.eventListeners,function(e,r){t.on(r,e)}),this.resizeObserver.observe(t[0]),this.intersectionObserver.observe(t[0]))},i.prototype.getElement=function(){return this.$element},i.prototype.setElementAttribute=function(t,e){var r=this.$element;e?r.attr(t,e):r.removeAttr(t)},i.prototype.getElementAttribute=function(t){return this.$element.attr(t)},i.prototype.removeElementAttribute=function(t){this.$element.removeAttr(t)},i.prototype.setSilent=function(t){this.silent=t},i.prototype.isSilent=function(){return this.silent},i.prototype.on=function(t,e){if(!angular.isFunction(e))throw{message:"Callback must be a function"};angular.isArray(this.callbacks[t])||(this.callbacks[t]=[]),this.callbacks[t].includes(e)||this.callbacks[t].push(e)},i.prototype.off=function(t,e){if(angular.isArray(this.callbacks[t])){var r=this.callbacks[t],n=r.indexOf(e);n>-1&&r.splice(n,1)}},i.prototype.fire=function(e,r){var i=(r=r||{})||{};if(i.source=this,i.type=e,t.applyProcessors(this,i),!this.isSilent()&&angular.isDefined(this.callbacks[e])){for(var o=this.callbacks[e],a=null,s=0;s<o.length;s++)try{a=o[s](i)||a}catch(t){n.log(t)}return a}},i.prototype.getDirection=function(){return this.getModelProperty("style.flexDirection")||"column"},i.prototype.getEvent=function(){return this.getModelProperty("on")||{}},i.prototype.getTitle=function(){return this.getModelProperty("label")},i.prototype.getType=function(){return this.getModelProperty("type")},i.prototype.getId=function(){return this.getModelProperty("id")},i.prototype.getName=function(){return this.getModelProperty("name")},i.prototype.getParent=function(){return this.$parent},i.prototype.setState=function(t){if(t!==this.state){var e=this.state;this.state=t,this.fire("stateChanged",{oldValue:e,value:t})}},i.prototype.isEditable=function(){return this.editable},i.prototype.setEditable=function(t){this.editable!==t&&(this.editable=t,t?this.setState("edit"):this.setState("ready"),angular.forEach(this.childWidgets,function(e){e.setEditable(t)}))},i.prototype.isIntersecting=function(){return this.intersecting},i.prototype.setIntersecting=function(t,e){_.isUndefined(this.intersecting)&&(t=!0),this.intersecting=t,this.fire("intersection",e)},i.prototype.clone=function(){var t=this.getParent(),e=t.indexOfChild(this);t.addChild(e,angular.copy(this.getModel()))},i.prototype.moveNext=function(){var t=this.getParent();t.moveChild(this,t.indexOfChild(this)+1)},i.prototype.moveBefore=function(){var t=this.getParent();t.moveChild(this,t.indexOfChild(this)-1)},i.prototype.moveFirst=function(){this.getParent().moveChild(this,0)},i.prototype.moveLast=function(){var t=this.getParent();t.moveChild(this,t.getChildren().length-1)},i.prototype.isRoot=function(){var t=this.getParent();return angular.isUndefined(t)||null===t},i.prototype.getRoot=function(){if(this.rootWidget)return this.rootWidget;for(this.rootWidget=this;!this.rootWidget.isRoot();)this.rootWidget=this.rootWidget.getParent();return this.rootWidget},i.prototype.isSelected=function(){return this.selected},i.prototype.setSelected=function(t){this.selected!==t&&(this.selected=t,t?this.fire("select"):this.fire("unselect"))},i.prototype.addAction=function(t){this.actions.push(t)},i.prototype.getActions=function(){return this.actions},i.prototype.getBoundingClientRect=function(){var t=this.getElement();if(!t)return{width:0,height:0,top:0,left:0};var e=t.offset();return{width:t.outerWidth(),height:t.outerHeight(),top:e.top+t.scrollTop(),left:e.left+t.scrollLeft()}},i.prototype.animate=function(t){var e={targets:this.getRuntimeModel()};t.duration&&(e.duration=t.duration),t.loop&&(e.loop=t.loop),t.autoplay&&(e.autoplay=t.autoplay),t.delay&&(e.delay=t.delay),t.easing&&(e.easing=t.easing);var r=this,n=[];for(var i in t){if(!_.includes(["duration","loop","autoplay","delay","easing"],i))n.push(i),e[i]=t[i],this.getProperty(i)||this.setProperty(i,this.getModelProperty(i))}return e.update=function(){r.fire("modelUpdated",{keys:n,value:null,oldValue:null})},anime(e)},i.prototype.removeAnimation=function(){},i.prototype.setWindow=function(t){this.window=t},i.prototype.getWindow=function(){return this.window||this.getRoot().getWindow()||e},i.prototype.addElementAttributes=function(){this.elementAttributes=_.union(this.elementAttributes,arguments)},i.prototype.getElementAttributes=function(){return this.elementAttributes},i}]),angular.module("am-wb-core").factory("WbWidgetGroup",["$wbUtil","$widget","$q","WbWidgetAbstract",function(t,e,r,n){function i(t,e){n.apply(this,[t,e])}return i.$inject=["$element","$parent"],i.prototype=Object.create(n.prototype),i.prototype.setModel=function(t){if(t!==this.model){this.setState("init"),this.model=t,this.fire("modelChanged");var e=this;return this.loadWidgets().then(function(){return e})}},i.prototype.delete=function(){this.removeChildren(),this.fire("delete"),this.isRoot()||this.getParent().removeChild(this)},i.prototype.getChildById=function(t){for(var e=this.childWidgets,r=0;r<e.length;r++)if(e[r].getId()===t)return e[r]},i.prototype.getChildren=function(){return this.childWidgets},i.prototype.removeChild=function(t){var e=this.indexOfChild(t);if(e>-1){this.childWidgets.splice(e,1);var r=this.getModel();return e=r.children.indexOf(t.getModel()),r.children.splice(e,1),t.destroy(),!0}return!1},i.prototype.removeChildren=function(){var t=_.clone(this.getChildren());_.forEach(t,function(t){t.delete()})},i.prototype.loadWidgets=function(){angular.forEach(this.childWidgets,function(t){t.destroy()}),this.childWidgets=[];var t=this,n=function(){t.fire("loaded"),t.setState("ready")};if(!this.model||!angular.isArray(this.model.children))return r.resolve().finally(n);var i=this,o=[];return this.model.children.forEach(function(t,r){var n=e.compile(t,i).then(function(t){i.childWidgets[r]=t});o.push(n)}),r.all(o).then(function(){var e=i.getElement();e.empty(),i.childWidgets.forEach(function(r){r.setEditable(t.isEditable()),e.append(r.getElement())})}).finally(n)},i.prototype.addChildModel=function(r,n){var i=this.getModel(),o=this;return r=this.__cleanInsertIndex(r),n=t.clean(n),e.compile(n,this).then(function(t){return r<o.childWidgets.length?t.getElement().insertBefore(o.childWidgets[r].getElement()):o.getElement().append(t.getElement()),angular.isArray(i.children)||(i.children=[]),i.children.splice(r,0,n),o.childWidgets.splice(r,0,t),t.setEditable(o.isEditable()),o.fire("newchild",{widgets:[t]}),t})},i.prototype.addChildrenModel=function(t,e){var r=this.getModel(),n=this;return t=this.__cleanInsertIndex(t),this.__compileChildren(e).then(function(e){for(var i=0;i<e.length;i++){var o=e[i],a=i+t;a<n.childWidgets.length?o.getElement().insertBefore(n.childWidgets[a].getElement()):n.getElement().append(o.getElement()),angular.isArray(r.children)||(r.children=[]),r.children.splice(a,0,o.getModel()),n.childWidgets.splice(a,0,o),o.setEditable(n.isEditable())}n.fire("newchild",{widgets:e})})},i.prototype.addChild=i.prototype.addChildModel,i.prototype.addChildren=i.prototype.addChildrenModel,i.prototype.__compileChildren=function(n){var i=[],o=[],a=this;return angular.forEach(n,function(r,n){r=t.clean(r),i.push(e.compile(r,a).then(function(t){o[n]=t}))}),r.all(i).then(function(){return o})},i.prototype.__cleanInsertIndex=function(t){return!angular.isDefined(t)||t>this.childWidgets.length?this.childWidgets.length:t<0?0:t},i.prototype.moveChild=function(t,e){function r(t,e,r){var n=t[e];t.splice(e,1),t.splice(r,0,n)}if(!(e<0||e>this.getChildren().length-1||1===this.getChildren().length)&&this.getModel().children.indexOf(t.getModel())!==e){var n=this.getChildren()[e];this.getModel().children.indexOf(t.getModel())<e?n.getElement().after(t.getElement()):n.getElement().before(t.getElement()),r(this.getModel().children,this.getModel().children.indexOf(t.getModel()),e),r(this.getChildren(),this.indexOfChild(t),e)}},i.prototype.indexOfChild=function(t){return this.childWidgets&&this.childWidgets.length?this.childWidgets.indexOf(t):-1},i.prototype.getAllowedTypes=function(){return this.allowedTypes},i.prototype.setAllowedTypes=function(){this.allowedTypes=arguments},i.prototype.isHorizontal=function(){return"row"===(this.getModelProperty("style.flexDirection")||this.getProperty("style.flexDirection"))},i}]),angular.module("am-wb-core").factory("WbWidgetAbstractHtml",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes("html");var n=this;function i(t){if("html"===t.key){var e=n.getProperty(t.key)||n.getModelProperty(t.key);n.getElement().html(e)}}this.on("modelUpdated",i),this.on("runtimeModelUpdated",i)}return e.prototype=Object.create(t.prototype),e.prototype.html=function(){var t=arguments[0];t&&this.setElementAttribute("html",t);var e=this.getElement();return e.html.apply(e,arguments)},e}]),angular.module("am-wb-core").factory("WbWidgetA",["WbWidgetAbstractHtml",function(t){function e(e,r){function n(t){t.preventDefault()}t.apply(this,[e,r]),this.addElementAttributes("download","href","hreflang","media","ping","referrerpolicy","rel","target","aType");var i=this;function o(t){"aType"===t.key&&i.setElementAttribute("type",t.value)}this.on("stateChanged",function(t){"edit"===t.value?i.getElement().on("click dblclick",n):i.getElement().off("click dblclick",n)}),this.on("modelUpdated",o),this.on("runtimeModelUpdated",o)}return e.$inject=["$element","$parent"],e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetAddress",["WbWidgetGroup",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetApplet",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetArea",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetArticle",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetAside",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetAudio",["WbWidgetGroup",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes("autoplay","controls","loop","muted","preload","src"),this.setAllowedTypes("source")}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetBlockquote",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetButton",["WbWidgetAbstractHtml",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetCanvas",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("AmWbSeenCollectionWidget",["WbWidgetGroup","$wbUtil","$q","$http","$log",function(t,e,r,n,i){function o(){this.param={},this.filterMap={},this.sortMap={}}o.prototype._init_filters=function(){var t=this.filterMap,e=Object.keys(t);this.param["_px_fk[]"]=[],this.param["_px_fv[]"]=[];for(var r=0;r<e.length;r++)for(var n=e[r],i=t[n],o=0;o<i.length;o++){var a=i[o];this.param["_px_fk[]"].push(n),this.param["_px_fv[]"].push(a)}},o.prototype._init_sorts=function(){var t=this.sortMap;this.param["_px_sk[]"]=Object.keys(t),this.param["_px_so[]"]=[];for(var e=0;e<this.param["_px_sk[]"].length;e++){var r=this.param["_px_sk[]"][e];this.param["_px_so[]"][e]=t[r]}},o.prototype.setSize=function(t){return this.param._px_ps=t,this},o.prototype.setQuery=function(t){return this.param._px_q=t,this},o.prototype.setPage=function(t){return this.param._px_p=t,this},o.prototype.nextPage=function(){return this.param._px_p||(this.param._px_p=1),this.param._px_p+=1,this},o.prototype.setOrder=function(t,e){return e?this.addSorter(t,e):this.removeSorter(t,e),this._init_sorts(),this},o.prototype.addSorter=function(t,e){return e?(this.sortMap[t]=e,this._init_sorts(),this):this},o.prototype.removeSorter=function(t){return delete this.sortMap[t],this._init_sorts(),this},o.prototype.clearSorters=function(){this.sortMap={}},o.prototype.setFilter=function(t,e){return angular.isDefined(e)?(this.filterMap[t]=[],this.addFilter(t,e)):this.removeFilter(t,e),this._init_filters(),this},o.prototype.addFilter=function(t,e){return angular.isDefined(e)?(angular.isArray(this.filterMap[t])||(this.filterMap[t]=[]),this.filterMap[t].push(e),this._init_filters(),this):this},o.prototype.removeFilter=function(t){return delete this.filterMap[t],this._init_filters(),this},o.prototype.clearFilters=function(){this.filterMap={}},o.prototype.getParameter=function(){return this.param},o.prototype.put=function(t,e){return this.param[t]=e,this},o.prototype.get=function(t){return this.param[t]};var a="ideal",s=["url","filters","sorts","query","properties","template"];function l(e,r,n){t.apply(this,[e,r,n]),this.setAllowedTypes(),this.addElementAttributes("url","filters","sorts","query","properties","template"),this._lastResponse,this._state=a;var i=this;function o(t){_.includes(s,t.key)&&i.reloadPage()}i.on("modelUpdated",o),i.on("runtimeModelUpdated",o),this.on("loaded",function(){i.reloadPage()})}return l.prototype=Object.create(t.prototype),l.prototype.reloadPage=function(){var t=this;if(this._reloading)return this._reloading.finally(function(){return t.reloadPage()});this.removeChildren(),this.getElement().empty(),delete this._lastResponse,this._reloading=this.loadNextPage(!0).finally(function(){delete t._reloading})},l.prototype.loadNextPage=function(){if(!this.hasMorePage())return r.reject({message:"No more page!?"});var t=this.getTemplate(),n=this;return this.getCollection().then(function(t){return n._lastResponse=t.data,n.fire("success",t)||t.data},function(t){return n.fire("error",t)||t}).then(function(n){return function(t,n){var o,a=[],s="";if(!angular.isArray(t))return r.resolve([]);for(var l=0;l<t.length;l++){s=n;try{o=Mustache.to_html(s,t[l]),o=JSON.parse(o),o=e.clean(o),a.push(o)}catch(t){i.error({message:"Falie to load template",error:t});continue}}return r.resolve(a)}(n.items||[],t)}).then(function(t){return n.addChildren(n.getChildren().length,t).then(function(){return n.fire("load",{children:t})||t})})},l.prototype.getTemplate=function(){return this.getProperty("template")||this.getModelProperty("template")||{type:"HtmlText",text:"<h3>Template is not set</h3>"}},l.prototype.getCollection=function(){if(this._state!==a)return this.lastQuery;var t=new o,e=this.getProperty("filters")||this.getModelProperty("filters")||[];angular.forEach(e,function(e){t.addFilter(e.key,e.value)});var i=this.getProperty("sorts")||this.getModelProperty("sorts")||[];angular.forEach(i,function(e){t.addSorter(e.key,e.order)}),t.setQuery(this.getProperty("query")||this.getModelProperty("query")),t.put("graphql",this.getProperty("properties")||this.getModelProperty("properties"));var s=this.getProperty("url")||this.getModelProperty("url");if(s){var l=this.getNextPageIndex();l>1&&t.setPage(l),this._state="busy";var c=this;this._lastQuery=n({method:"GET",url:s,params:t.getParameter()}).finally(function(){c._state=a,delete c.lastQuery})}else this._lastQuery=r.reject({message:"URL is not set",code:1});return this._lastQuery},l.prototype.getPagesCount=function(){return this._lastResponse?this._lastResponse.page_number:0},l.prototype.getCurrentPage=function(){return this._lastResponse?this._lastResponse.current_page:0},l.prototype.getItemPerPage=function(){return this._lastResponse?this._lastResponse.items_per_page:0},l.prototype.hasMorePage=function(){return!this._lastResponse||this._lastResponse.current_page<this._lastResponse.page_number},l.prototype.getNextPageIndex=function(){return this._lastResponse?this._lastResponse.current_page+1:1},l.prototype.getState=function(){return this._state||a},l.prototype.setAllowedTypes=function(){this.allowedTypes=[]},l.prototype.setEditable=function(e){t.prototype.setEditable.apply(this,arguments);for(var r=this.getChildren();!_.isEmpty(r);){var n=r.pop();n.setSilent(e),r=r.concat(n.getChildren())}},l}]),angular.module("am-wb-core").factory("WbWidgetDatalist",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetDd",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetDetails",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetDialog",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetDiv",["WbWidgetGroup",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetDl",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetDt",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetEmbed",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetFieldset",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetFigcaption",["WbWidgetAbstractHtml",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetFigure",["WbWidgetGroup",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetFooter",["WbWidgetGroup",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetForm",["WbWidgetGroup",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes("acceptCharset","action","autocomplete","off","enctype","method","name","novalidate","target")}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetFrame",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetFrameset",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetH",["WbWidgetAbstractHtml",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes("align")}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetHeader",["WbWidgetGroup",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetHr",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetI",["WbWidgetAbstractHtml",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetIframe",["WbWidgetAbstractHtml",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes("name","src","srcdoc","sandbox")}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetImg",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes("alt","crossorigin","height","hspace","ismap","longdesc","sizes","src","usemap","width")}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetSeenImport",["WbWidgetGroup","$wbUtil","$q",function(t,e,r){"use strict";function n(e,r,n){t.apply(this,[e,r,n]),this.setAllowedTypes(),this.addElementAttributes("url");var i=this;function o(t){"url"===t.key&&i.reload()}this.on("modelUpdated",o),this.on("runtimeModelUpdated",o),this.on("modelChanged",function(){i.reload()})}return n.prototype=Object.create(t.prototype),n.prototype.reload=function(){var t=this;t.removeChildren(),t.getModel().children=[];var n,i=this.getProperty("url")||this.getModelProperty("url")||"";return(i=i.trim())?(this.paths=i.split(","),n=function(t){var n=[],i=Array(t.length);function o(){return _.remove(i,function(t){return!_.isUndefined(t)})}return _.forEach(t,function(t,r){var o=t.split("#"),a=o[0],s=o.length>1?o[1]:void 0,l=e.downloadWidgetModel(a,s).then(function(t){i[r]=t});n.push(l)}),r.all(n).then(o,o)}(this.paths).then(function(e){return t.fire("success",{children:e})||e})):n=r.resolve([]),n.then(function(e){return t.addChildrenModel(0,e).finally(function(){t.fire("load",{children:e})})})},n.prototype.setAllowedTypes=function(){this.allowedTypes=[]},n.prototype.setEditable=function(e){t.prototype.setEditable.apply(this,arguments);for(var r=this.getChildren();!_.isEmpty(r);){var n=r.pop();n.setSilent(e),r=r.concat(n.getChildren())}},n}]),angular.module("am-wb-core").factory("WbWidgetInput",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes("accept","alt","autocomplete","autofocus","checked","dirname","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","height","list","max","maxlength","min","multiple","name","pattern","placeholder","readonly","required","size","src","step","inputType","value","width");var n=this;function i(t){"inputType"===t.key&&n.setElementAttribute("type",t.value)}this.on("modelUpdated",i),this.on("runtimeModelUpdated",i)}return e.$inject=["$element","$parent"],e.prototype=Object.create(t.prototype),e.prototype.val=function(){var t=arguments[0];t&&this.setElementAttribute("value",t);var e=this.getElement();return e.val.apply(e,arguments)},e}]),angular.module("am-wb-core").factory("WbWidgetKbd",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetLabel",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetLegend",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetLi",["WbWidgetGroup",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetLink",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes("crossorigin","href","hreflang","media","rel","size","type")}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetMain",["WbWidgetGroup",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetMap",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetMeta",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes("charset","content","httpEquiv","name")}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetMeter",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetNav",["WbWidgetGroup",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetNoscript",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetObject",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetOl",["WbWidgetGroup",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetOptgroup",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetOption",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetOutput",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetP",["WbWidgetAbstractHtml",function(t){function e(e,r){t.apply(this,[e,r])}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetParam",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetPicture",["WbWidgetGroup",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes("alt","crossorigin","height","hspace","ismap","longdesc","sizes","src","usemap","width"),this.setAllowedTypes("source","img")}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetPre",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes("text");var n=this;function i(t){if("text"===t.key){var e=n.getProperty(t.key)||n.getModelProperty(t.key);n.getElement().text(e)}}this.on("modelUpdated",i),this.on("runtimeModelUpdated",i)}return e.prototype=Object.create(t.prototype),e.prototype.text=function(){var t=arguments[0];t&&this.setElementAttribute("text",t);var e=this.getElement();return e.text.apply(e,arguments)},e}]),angular.module("am-wb-core").factory("WbWidgetProgress",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes("value","max")}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetQ",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetS",["WbWidgetAbstractHtml",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetSamp",["WbWidgetAbstractHtml",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetScript",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetSection",["WbWidgetGroup",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetSelect",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetSmall",["WbWidgetAbstractHtml",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetSource",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes("src","srcset","media","sizes","sourceType");var n=this;function i(t){"sourceType"===t.key&&n.setElementAttribute("type",t.value)}this.on("modelUpdated",i),this.on("runtimeModelUpdated",i)}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetSpan",["WbWidgetAbstractHtml",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetStrong",["WbWidgetAbstractHtml",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetStyle",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes("text");var n=this;function i(t){if("text"===t.key){var e=n.getProperty(t.key)||n.getModelProperty(t.key);n.getElement().text(e)}}this.on("modelUpdated",i),this.on("runtimeModelUpdated",i)}return e.prototype=Object.create(t.prototype),e.prototype.text=function(){var t=arguments[0];t&&this.setElementAttribute("text",t);var e=this.getElement();return e.text.apply(e,arguments)},e}]),angular.module("am-wb-core").factory("WbWidgetSummary",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetSvg",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetTemplate",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetTextarea",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes("autofocus","cols","dirname","disabled","form","maxlength","name","placeholder","readonly","required","rows","wrap","value")}return e.prototype=Object.create(t.prototype),e.prototype.val=function(){var t=arguments[0];t&&this.setElementAttribute("value",t);var e=this.getElement();return e.val.apply(e,arguments)},e}]),angular.module("am-wb-core").factory("WbWidgetTrack",["WbWidgetAbstract",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetUl",["WbWidgetGroup",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes()}return e.prototype=Object.create(t.prototype),e}]),angular.module("am-wb-core").factory("WbWidgetVideo",["WbWidgetGroup",function(t){function e(e,r){t.apply(this,[e,r]),this.addElementAttributes("autoplay","controls","height","loop","muted","poster","preload","src","usemap","width"),this.setAllowedTypes("source")}return e.prototype=Object.create(t.prototype),e}]);